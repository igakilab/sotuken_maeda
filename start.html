<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="stposition.css" type="text/css">
  <title>ゲーム画面</title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script type="text/javascript" src="msotu.js"></script>
</head>

<body onLoad=insert();>
  <div class="ToDo" id=droparea1>
    <div class="dai"><br>
      <p>
        <font size="7">
          <center>ToDo</center>
        </font>
      </p><br>
    </div>

    <div class="note" id="task1" draggable="true" onClick="disp(t1a,24,'task1',1);">
      <p>story1<br><span id="card1"></span><br>24</p>
    </div>

    <div class="note" id="task2" draggable="true" onClick="disp(t2a,21,'task2',2);">
      <p>story2<br><span id="card2"></span><br>24</p>
    </div>

    <div class="note" id="task3" draggable="true" onClick="disp(t3a,27,'task3',3);">
      <p>story3<br><span id="card3"></span><br>24</p>
    </div>

    <div class="note" id="task4" draggable="true" onClick="disp(t4a,24,'task4',4);">
      <p>story4<br><span id="card4"></span><br>24</p>
    </div>

    <div class="note" id="task5" draggable="true" onClick="disp(t5a,24,'task5',5);">
      <p>story5<br><span id="card5"></span><br>24</p>
    </div>

    <div class="note" id="task6" draggable="true" onClick="disp(t6a,24,'task6',6);">
      <p>story6<br><span id="card6"></span><br>24</p>
    </div>


    <div class="note" id="task7" draggable="true" onClick="disp(t7a,24,'task7',7);">
      <p>story7<br><span id="card7"></span><br>24</p>
    </div>

    <div class="note" id="task8" draggable="true" onClick="disp(t8a,24,'task8',8);">
      <p>story8<br><span id="card8"></span><br>24</p>
    </div>

    <div class="note" id="task9" draggable="true" onClick="disp(t9a,24,'task9',9);">
      <p>story9<br><span id="card9"></span><br>24</p>
    </div>

    <div class="note" id="task10" draggable="true" onClick="disp(t10a,24,'task10',10);">
      <p>story10<br><span id="card10"></span><br>24</p>
    </div>




  </div>
  <div class=" Doing" id=droparea2>
    <div class="dai"><br>
      <p>
        <font size="7">
          <center>Doing</center>
        </font>
      </p><br>
    </div>
  </div>
  <div class="Done" id=droparea3>
    <div class="dai"><br>
      <p>
        <font size="7">
          <center>Done</center>
        </font>
      </p><br>
    </div>
  </div>

  <audio id="daicesound" preload="auto">
    <source src="daicesound.wav" type="audio/wav">
  </audio>
  <audio id="clikcsound" preload="auto">
    <source src="sound.mp3" type="audio/wav">
  </audio>
  <span><img src="6d.gif" id="dice" class="dice" onclick="daice();" alt="" name="dice"></span>
  <span><img src="6d.gif" id="dice1" class="dice1" onclick="daice();" alt="" name="dice1"></span>
  <span><img src="card.png" id="card" class="card" onclick="chance();" width="300" height="200" name="card"></span>
  <p class="sukoa">タスク； <span id="task">0</span></p>
  <p class="log"><span id="log">ログ</span></p>
  <button class="end" type="button" onclick="end();">end</button>
  <p class="player"><span id="player">player1の番です</span></p>
  <audio id="stbgm" preload="auto" autoplay loop>
    <source src="stbgm.mp3" type="audio/mp3">
  </audio>
</body>

</html>

<script>
  let task1 = document.getElementById("task1");
  let task2 = document.getElementById("task2");
  let task3 = document.getElementById("task3");
  let task4 = document.getElementById("task4");
  let task5 = document.getElementById("task5");
  let task6 = document.getElementById("task6");
  let task7 = document.getElementById("task7");
  let task8 = document.getElementById("task8");
  let task9 = document.getElementById("task9");
  let task10 = document.getElementById("task10");
  let area1 = document.getElementById("droparea1");
  let area2 = document.getElementById("droparea2");
  let area3 = document.getElementById("droparea3");
  let t1a = 1;
  let t2a = 1;
  let t3a = 1;
  let t4a = 1;
  let t5a = 1;
  let t6a = 1;
  let t7a = 1;
  let t8a = 1;
  let t9a = 1;
  let t10a = 1;

  //ドラッグ開始時の処理
  task1.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);


  task2.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);


  task3.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);

  task4.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);

  task5.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);

  task6.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);

  task7.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);

  task8.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);

  task9.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);

  task10.addEventListener("dragstart", function (evt) {

    //ドラッグ要素のidをdataTransferにセット
    evt.dataTransfer.setData("text/html", evt.target.id);
    evt.stopPropagation();
  }, false);

  //ドロップされた時の処理
  area1.addEventListener("drop", function (evt) {
    //id名をdataTransferから取り出す
    var id = evt.dataTransfer.getData("text/html");

    var obj1 = document.getElementById(id);
    if (obj1) {
      area1.appendChild(obj1);  //要素を移動する
      drop(1,id);
    }

    evt.preventDefault();
  }, false);

  area1.addEventListener("dragenter", function (evt) {
    evt.preventDefault();
  }, false);
  area1.addEventListener("dragover", function (evt) {
    evt.preventDefault();
  }, false);




  area2.addEventListener("drop", function (evt) {

    //id名をdataTransferから取り出す
    var id = evt.dataTransfer.getData("text/html");

    var obj2 = document.getElementById(id);
    if (obj2) {
      area2.appendChild(obj2);  //要素を移動する
      drop(2,id);
    }

    evt.preventDefault();
  }, false);

  //２つのイベントでデフォルト動作を抑制する
  area2.addEventListener("dragenter", function (evt) {
    evt.preventDefault();
  }, false);
  area2.addEventListener("dragover", function (evt) {
    evt.preventDefault();
  }, false);






  area3.addEventListener("drop", function (evt) {

    //id名をdataTransferから取り出す
    var id = evt.dataTransfer.getData("text/html");

    var obj3 = document.getElementById(id);
    if (obj3) {
      area3.appendChild(obj3);  //要素を移動する
   drop(3,id);
    }

    evt.preventDefault();
  }, false);

  //２つのイベントでデフォルト動作を抑制する
  area3.addEventListener("dragenter", function (evt) {
    evt.preventDefault();
  }, false);
  area3.addEventListener("dragover", function (evt) {
    evt.preventDefault();
  }, false);
</script>
